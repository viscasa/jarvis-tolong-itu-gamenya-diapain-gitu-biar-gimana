[gd_scene load_steps=9 format=4 uid="uid://nfb6k3y2ymip"]

[ext_resource type="PackedScene" uid="uid://yncml2ptnko7" path="res://scene/level/room.tscn" id="1_scad7"]
[ext_resource type="PackedScene" uid="uid://bopshekyxove8" path="res://scene/hostile/broken_puppet.tscn" id="3_n7h5c"]
[ext_resource type="Script" uid="uid://h0tnnc4wy2xh" path="res://script/tutorialdhsfkhjsdf.gd" id="4_te7ks"]
[ext_resource type="Script" uid="uid://04pxw75e5exq" path="res://script/level/tutorial_todo.gd" id="4_ucgp2"]

[sub_resource type="Shader" id="Shader_n7h5c"]
resource_local_to_scene = true
code = "shader_type canvas_item;
uniform vec4 blink_color: source_color;
uniform float blink_intensity = 0;


void fragment() {
	vec4 color = texture(TEXTURE, UV);
	color = mix(color, blink_color, blink_intensity * color.a);
	COLOR = color;
}

//void light() {
//	// Called for every pixel for every light affecting the CanvasItem.
//	// Uncomment to replace the default light processing function with this one.
//}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_te7ks"]
resource_local_to_scene = true
shader = SubResource("Shader_n7h5c")
shader_parameter/blink_color = Color(1, 1, 1, 1)
shader_parameter/blink_intensity = 0.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ucgp2"]
resource_local_to_scene = true
size = Vector2(24.041632, 24.041632)

[sub_resource type="CircleShape2D" id="CircleShape2D_ucgp2"]
radius = 36.345562

[node name="RoomRandom1" instance=ExtResource("1_scad7")]

[node name="Ground" parent="." index="0"]
tile_map_data = PackedByteArray("AAD///3/AAARAAIAAAAAAP7/AAAQAAMAAAD/////AAASAAMAAAAAAAAAAAATAAIAAAD///7/AAAQAAMAAAD//wEAAAATAAIAAAAAAAIAAAASAAMAAAAAAP//AAATAAIAAAAAAAEAAAAQAAIAAAABAAIAAAASAAMAAAD//wAAAAASAAIAAAD+////AAASAAIAAAD+//3/AAAQAAIAAAD///z/AAARAAMAAAD///v/AAASAAIAAAAAAPz/AAARAAIAAAAAAPr/AAAQAAEAAAD///n/AAAQAAEAAAAAAPv/AAAQAAMAAAAAAP3/AAARAAIAAAABAP7/AAASAAIAAAABAP3/AAASAAMAAAABAPz/AAARAAMAAAABAAAAAAATAAIAAAACAP7/AAASAAMAAAABAP//AAARAAMAAAACAPz/AAAQAAEAAAABAPv/AAAQAAEAAAACAAAAAAASAAMAAAACAP3/AAAQAAIAAAACAPv/AAATAAIAAAACAP//AAARAAIAAAADAPz/AAASAAMAAAADAAAAAAAQAAIAAAACAAEAAAAQAAMAAAABAAEAAAAQAAMAAAADAP//AAATAAIAAAAEAP7/AAAQAAEAAAAEAP3/AAARAAMAAAADAP3/AAAQAAEAAAADAP7/AAAQAAEAAAAFAP7/AAARAAMAAAAFAP3/AAAQAAEAAAAGAPz/AAASAAIAAAAFAPz/AAAQAAEAAAAEAPz/AAASAAMAAAAEAPv/AAAQAAMAAAADAPv/AAASAAMAAAABAPr/AAAQAAIAAAABAPn/AAARAAIAAAAAAPn/AAAQAAMAAAAAAPj/AAAQAAIAAAAAAPf/AAASAAIAAAABAPb/AAARAAMAAAAAAPX/AAARAAMAAAAAAPb/AAARAAMAAAAAAPT/AAASAAIAAAAAAPP/AAATAAIAAAD///X/AAAQAAMAAAD///f/AAAQAAEAAAABAPT/AAARAAMAAAABAPP/AAAQAAEAAAABAPL/AAARAAMAAAABAPH/AAAQAAIAAAABAPD/AAARAAMAAAABAPX/AAASAAIAAAABAPf/AAASAAMAAAAAAPH/AAAQAAEAAAAAAPL/AAATAAIAAAAAAPD/AAAQAAIAAAABAPj/AAARAAMAAAACAPb/AAAQAAEAAAACAPj/AAASAAIAAAACAPn/AAAQAAMAAAACAPr/AAAQAAMAAAADAPr/AAARAAMAAAADAPn/AAAQAAMAAAADAPj/AAATAAIAAAACAPf/AAASAAIAAAADAPb/AAASAAIAAAACAPX/AAARAAMAAAADAPT/AAAQAAMAAAACAPP/AAAQAAEAAAACAPL/AAAQAAEAAAACAPT/AAARAAIAAAAAAO//AAAQAAEAAAADAPf/AAAQAAIAAAAEAPj/AAAQAAIAAAAEAPn/AAASAAMAAAAFAPr/AAASAAMAAAAEAPf/AAAQAAMAAAAEAPb/AAARAAIAAAADAPX/AAASAAIAAAAEAPr/AAASAAMAAAAFAPv/AAARAAIAAAAFAPn/AAASAAIAAAAFAPj/AAAQAAEAAAAGAP3/AAAQAAEAAAAGAPr/AAARAAIAAAAGAPv/AAASAAIAAAAGAP7/AAAQAAMAAAAGAP//AAASAAIAAAAHAP7/AAARAAIAAAAFAP//AAAQAAEAAAAEAP//AAARAAIAAAAEAAAAAAASAAMAAAAFAAAAAAAQAAMAAAAEAAEAAAAQAAIAAAAGAAAAAAAQAAIAAAAHAPz/AAASAAMAAAAHAP3/AAAQAAMAAAAIAP7/AAATAAIAAAAHAP//AAARAAMAAAAHAAAAAAAQAAEAAAABAO7/AAARAAMAAAABAO3/AAAQAAEAAAACAO3/AAARAAIAAAADAOz/AAAQAAMAAAADAOv/AAAQAAIAAAAEAOr/AAAQAAIAAAAEAOn/AAARAAIAAAAFAOr/AAAQAAIAAAAFAOn/AAAQAAIAAAAFAOj/AAAQAAMAAAADAOn/AAARAAIAAAADAOr/AAARAAMAAAACAOv/AAARAAIAAAACAOz/AAAQAAEAAAACAO7/AAARAAMAAAAEAOj/AAAQAAEAAAAEAOf/AAAQAAMAAAABAO//AAATAAIAAAAFAOf/AAASAAIAAAAGAOj/AAASAAMAAAAEAOv/AAASAAIAAAAEAOz/AAAQAAEAAAAEAO3/AAAQAAEAAAAEAO7/AAARAAMAAAADAO//AAAQAAEAAAAGAOf/AAASAAIAAAAGAOb/AAATAAIAAAAGAOX/AAASAAMAAAAHAOb/AAASAAIAAAAHAOX/AAAQAAMAAAADAO3/AAARAAIAAAADAO7/AAAQAAIAAAAFAOb/AAAQAAMAAAACAO//AAAQAAIAAAADAPD/AAARAAMAAAACAPH/AAAQAAIAAAADAPL/AAATAAIAAAADAPH/AAASAAMAAAAEAPD/AAATAAIAAAAEAO//AAASAAIAAAAFAO7/AAAQAAMAAAAFAOz/AAAQAAIAAAAFAOv/AAATAAIAAAADAPP/AAARAAMAAAAEAPL/AAARAAMAAAAEAPH/AAARAAMAAAAFAPD/AAASAAMAAAAFAO//AAAQAAEAAAAGAO7/AAAQAAEAAAAGAO3/AAAQAAMAAAAFAO3/AAATAAIAAAAGAOz/AAASAAMAAAACAPD/AAAQAAEAAAAGAOr/AAAQAAEAAAAGAOn/AAASAAIAAAAHAOj/AAAQAAMAAAAGAOv/AAARAAMAAAAHAOr/AAARAAIAAAAIAOr/AAARAAIAAAAHAOv/AAARAAIAAAAHAOz/AAAQAAIAAAAGAO//AAAQAAIAAAAGAPD/AAARAAMAAAAFAPH/AAASAAMAAAAFAPL/AAASAAIAAAAEAPP/AAASAAMAAAAFAPT/AAAQAAIAAAAFAPP/AAASAAMAAAAGAPL/AAARAAIAAAAGAPH/AAARAAIAAAAHAPD/AAAQAAMAAAAHAO//AAAQAAEAAAAHAO7/AAATAAIAAAAHAO3/AAASAAMAAAAEAPX/AAAQAAIAAAAFAPb/AAASAAMAAAAFAPX/AAAQAAMAAAAGAPb/AAARAAIAAAAGAPX/AAASAAIAAAAHAPT/AAAQAAMAAAAHAPP/AAARAAIAAAAIAPL/AAASAAIAAAAIAPH/AAASAAIAAAAJAPD/AAAQAAMAAAAFAPf/AAASAAMAAAAGAPj/AAAQAAMAAAAHAPj/AAASAAIAAAAHAPf/AAARAAIAAAAIAPb/AAATAAIAAAAIAPX/AAAQAAEAAAAJAPT/AAATAAIAAAAGAPn/AAARAAMAAAAHAPv/AAARAAMAAAAIAPv/AAAQAAMAAAAJAPr/AAARAAIAAAAJAPn/AAAQAAEAAAAJAPj/AAAQAAEAAAAIAPn/AAASAAMAAAAIAPr/AAAQAAEAAAAIAPz/AAAQAAMAAAAIAP3/AAAQAAMAAAAJAPz/AAASAAMAAAAIAPj/AAAQAAIAAAAHAPn/AAASAAIAAAAIAPT/AAAQAAMAAAAIAPP/AAAQAAMAAAAJAPL/AAARAAIAAAAHAPX/AAAQAAEAAAAHAPb/AAAQAAIAAAAGAPf/AAAQAAIAAAAGAPP/AAASAAMAAAAGAPT/AAAQAAIAAAAHAPL/AAARAAIAAAAEAPT/AAAQAAEAAAAIAPD/AAARAAMAAAAIAO//AAAQAAMAAAAHAPr/AAAQAAMAAAAIAPf/AAARAAIAAAAJAPb/AAAQAAEAAAAJAPX/AAARAAMAAAAKAPj/AAARAAMAAAAJAPf/AAAQAAIAAAAJAPv/AAARAAIAAAAKAPr/AAASAAIAAAAKAPn/AAARAAIAAAAKAPf/AAASAAMAAAAKAPb/AAAQAAMAAAAHAPH/AAASAAIAAAAIAO7/AAAQAAEAAAAIAO3/AAAQAAEAAAAJAOz/AAARAAMAAAAIAOv/AAARAAMAAAAIAOz/AAAQAAEAAAAJAO7/AAASAAMAAAAJAPH/AAASAAMAAAAKAPL/AAAQAAEAAAAJAPP/AAARAAMAAAAKAPT/AAASAAMAAAAKAPP/AAAQAAIAAAALAPP/AAATAAIAAAALAPT/AAASAAIAAAAKAPX/AAAQAAEAAAALAPj/AAARAAIAAAALAPf/AAATAAIAAAAMAPb/AAASAAMAAAALAPX/AAAQAAMAAAALAPb/AAARAAMAAAAMAPT/AAAQAAMAAAALAPL/AAARAAMAAAAKAPH/AAAQAAIAAAAKAPD/AAARAAIAAAAKAO//AAATAAIAAAALAO7/AAARAAIAAAAJAO//AAARAAMAAAAKAO7/AAAQAAIAAAAJAO3/AAAQAAEAAAAKAOz/AAAQAAIAAAAJAOv/AAAQAAIAAAAKAOr/AAAQAAEAAAAJAOr/AAAQAAMAAAAJAOn/AAAQAAMAAAAJAOj/AAAQAAMAAAAJAOf/AAAQAAEAAAAIAOn/AAASAAIAAAAIAOj/AAATAAIAAAAHAOn/AAAQAAEAAAAIAOf/AAATAAIAAAAJAOb/AAAQAAIAAAAHAOf/AAATAAIAAAAIAOb/AAARAAMAAAAFAOX/AAATAAIAAAAGAOT/AAASAAMAAAAGAOP/AAAQAAIAAAACAOn/AAAQAAMAAAACAOr/AAASAAIAAAADAOj/AAARAAIAAAADAOf/AAARAAIAAAAEAOb/AAAQAAEAAAAEAOX/AAARAAIAAAABAOv/AAAQAAIAAAAFAOT/AAASAAIAAAALAO//AAARAAMAAAALAO3/AAAQAAMAAAALAOz/AAATAAIAAAAKAO3/AAATAAIAAAALAPD/AAAQAAMAAAALAPH/AAAQAAMAAAAMAPL/AAARAAIAAAAMAPP/AAASAAIAAAA=")

[node name="Object1" parent="." index="1"]
tile_map_data = PackedByteArray("AAD//wEAAAAAAAkAAAAAAAAAAAAAAAkAAAAAAP//AAAAAAkAAAD//wAAAAAAAAkAAAD/////AAAAAAkAAAAAAP7/AAAAAAkAAAAAAP3/AAAAAAkAAAABAPz/AAAAAAkAAAABAP7/AAAAAAkAAAABAP3/AAAAAAkAAAABAPv/AAAAAAkAAAACAPr/AAAAAAkAAAACAPz/AAAAAAkAAAABAPX/AAATAAEAAAABAPT/AAASAAAAAAABAPP/AAAQAAAAAAACAPP/AAAPAAAAAAAEAPf/AAASAAAAAAAFAPv/AAASAAAAAAAGAPz/AAASAAAAAAAGAP3/AAAPAAAAAAAHAPz/AAAOAAAAAAAJAPf/AAAQAAAAAAAJAPj/AAARAAEAAAAKAPb/AAAQAAAAAAAKAPX/AAAOAAAAAAAIAPH/AAAQAAAAAAAIAPD/AAARAAAAAAAHAO//AAATAAAAAAAGAO7/AAATAAEAAAAFAO3/AAASAAAAAAAFAOz/AAARAAEAAAACAO7/AAAAAAkAAAABAO//AAARAAEAAAABAPD/AAATAAAAAAABAPL/AAASAAAAAAAFAOr/AAARAAEAAAAEAOn/AAAQAAAAAAAEAOj/AAAOAAAAAAAIAO3/AAARAAAAAAAJAO7/AAATAAEAAAAKAPH/AAAQAAAAAAAHAOn/AAAOAAAAAAAGAOb/AAARAAAAAAAFAOX/AAAPAAAAAAAFAOb/AAASAAAAAAAFAOf/AAASAAAAAAAFAOj/AAASAAAAAAADAPH/AQATAAUAAAADAPP/AAAOAAAAAAAHAPb/AAAPAAAAAAADAO//AAAAAAkAAAADAOz/AAAOAAAAAAAIAP3/AAAAAAkAAAAJAPz/AAAAAAkAAAAIAPv/AAAAAAkAAAAIAPz/AAAAAAkAAAAHAPv/AAAAAAkAAAAHAPr/AAAAAAkAAAAHAPn/AAAAAAkAAAAHAPj/AAAAAAkAAAAGAPn/AAAAAAkAAAAIAPr/AAAAAAkAAAABAOv/AAAAAAkAAAACAOz/AAAAAAkAAAABAOz/AAAAAAkAAAABAO3/AAAAAAkAAAACAO//AAAAAAkAAAADAPD/AAAAAAkAAAACAO3/AAAAAAkAAAADAO7/AAAAAAkAAAAEAPD/AQATAAUAAAAGAPf/AQASAAkAAAAGAPj/AQASAAkAAAACAPv/AAAAAAkAAAADAPr/AAABAAkAAAACAPn/AAABAAkAAAA=")

[node name="Object2" parent="." index="2"]
tile_map_data = PackedByteArray("AAAEAPv/AAAIAAgAAAAFAOn/AAAIAAgAAAABAPL/AAAGAAgAAAAJAPP/AAAHAAgAAAAIAPr/AAACAAkAAAADAO7/AAADAAkAAAAIAOf/AAACAAAAAAAJAOj/AAADAAAAAAA=")

[node name="BrokenPuppet" parent="." index="12" instance=ExtResource("3_n7h5c")]
position = Vector2(359, -200)

[node name="Stats" parent="BrokenPuppet" index="2"]
max_health = 100000.0
base_damage = 0.0

[node name="AnimatedSprite2D" parent="BrokenPuppet" index="4"]
material = SubResource("ShaderMaterial_te7ks")

[node name="CollisionShape2D" parent="BrokenPuppet/Hurtbox" index="0"]
shape = SubResource("RectangleShape2D_ucgp2")

[node name="Area2D" type="Area2D" parent="." index="13"]
position = Vector2(608, -352)
collision_mask = 7
script = ExtResource("4_te7ks")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D" index="0"]
shape = SubResource("CircleShape2D_ucgp2")

[node name="CanvasLayer" type="CanvasLayer" parent="." index="14"]

[node name="Control" type="Control" parent="CanvasLayer" index="0"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Control" index="0"]
layout_mode = 0
offset_right = 445.0
offset_bottom = 172.0
script = ExtResource("4_ucgp2")

[connection signal="body_entered" from="Area2D" to="Area2D" method="_on_body_entered"]

[editable path="BrokenPuppet"]
